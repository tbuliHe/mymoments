import{_ as v,b as B,a as F}from"./b8cufphi.js";import{_ as N}from"./cvxw6bcr.js";import{_ as G}from"./wo62k5hj.js";import{_ as z,a as K}from"./k85d1ty1.js";import{e as S,f as c,l as $,r as j,c as E,h as o,i as f,j as x,a as g,b as t,w as s,F as H,o as u,Y as I,d as y,s as L}from"./c6lvz2om.js";import{m as M,a as R}from"./mu41mkrl.js";import"./k2lpch8j.js";import"./ou69qqfo.js";import"./mtqglvzn.js";const T={class:"pb-20"},Z=S({__name:"login",setup(Y){const b=c("sysConfig"),m=c("userinfo"),w=M(),a=$({username:"",password:""}),n=j(!1),_=async()=>{n.value=!0;let r=!1;try{w.value.userinfo=await R("/user/login",a),L.success("登录成功,跳转到首页..."),r=!0}finally{n.value=!1}r&&(location.href="/")};return(r,e)=>{const V=v,p=B,i=N,d=F,U=G,C=K,k=z;return u(),E(H,null,[o(m)?(u(),f(V,{key:0,user:o(m)},null,8,["user"])):x("",!0),g("div",T,[t(k,{ui:{base:"w-4/5 mx-auto mt-20"}},{default:s(()=>[e[4]||(e[4]=g("p",{class:"text-center text-2xl font-sans"}," 登录",-1)),t(C,{class:"space-y-4",size:"sm",state:o(a),onKeyup:I(_,["enter"])},{default:s(()=>[t(i,{label:"用户名",name:"email"},{default:s(()=>[t(p,{modelValue:o(a).username,"onUpdate:modelValue":e[0]||(e[0]=l=>o(a).username=l)},null,8,["modelValue"])]),_:1}),t(i,{label:"密码",name:"password"},{default:s(()=>[t(p,{type:"password",modelValue:o(a).password,"onUpdate:modelValue":e[1]||(e[1]=l=>o(a).password=l)},null,8,["modelValue"])]),_:1}),t(U,{size:"sm"},{default:s(()=>[t(d,{onClick:_,disabled:o(n),loading:o(n)},{default:s(()=>e[2]||(e[2]=[y("登录")])),_:1},8,["disabled","loading"]),o(b).enableRegister?(u(),f(d,{key:0,color:"gray",variant:"solid",to:"/user/reg"},{default:s(()=>e[3]||(e[3]=[y("去注册")])),_:1})):x("",!0)]),_:1})]),_:1},8,["state"])]),_:1})])],64)}}});export{Z as default};
