import{_ as N}from"./k2lpch8j.js";import{e as _,f as x,o,c as i,a as e,b as l,w as k,h as n,t as F,j as u,i as S,v as A,p as D,aa as $,u as j,C as E,a5 as w,F as H}from"./c6lvz2om.js";import{m as V,v as O,_ as B,h as R,a as M}from"./mu41mkrl.js";import{_ as T}from"./gvd3ebac.js";import"./mtqglvzn.js";import"./ou69qqfo.js";import"./ci6p5ad3.js";import"./cmw3t82p.js";const G={class:"footer p-4 flex justify-center items-center text-xs"},I={class:"flex flex-col gap-1 items-center"},P={key:0,class:"my-2 text-gray-500",href:"https://beian.miit.gov.cn/",target:"_blank"},K=_({__name:"Footer",setup(b){const s=x("sysConfig");return(c,d)=>{const p=N;return o(),i("div",G,[e("div",I,[l(p,{to:"https://github.com/kingwrcy/moments",target:"_blank"},{default:k(()=>d[0]||(d[0]=[e("img",{src:"https://img.shields.io/github/stars/kingwrcy/moments",class:"h-6 inline-block mr-1",alt:"github"},null,-1)])),_:1}),n(s).beiAnNo?(o(),i("a",P,F(n(s).beiAnNo),1)):u("",!0)])])}}}),W={class:"flex items-center justify-between gap-4 p-8 pt-2 text-gray-500 dark:text-white"},q={class:"flex flex-col items-center gap-1"},z=_({__name:"MobileNav",setup(b){const s=V(),c=O(),d=x("sidebarOpen",()=>!1),p=()=>{c.value==="dark"?c.value="light":c.value="dark"},g=async v=>{d.value=!1,await D(v)};return(v,t)=>{const r=B,m=T;return o(),S(m,{modelValue:n(d),"onUpdate:modelValue":t[4]||(t[4]=a=>A(d)?d.value=a:null),ui:{container:"sm:items-end"}},{default:k(()=>[n(s).userinfo.token?(o(),i("div",{key:0,onClick:t[0]||(t[0]=a=>g("/new")),title:"发表",class:"flex flex-col items-center p-4 pt-8 text-gray-500 dark:text-white"},[l(r,{name:"i-mage-edit",class:"text-[#9fc84a] w-7 h-7 cursor-pointer"}),t[5]||(t[5]=e("span",null,"发表",-1))])):u("",!0),e("div",W,[e("div",q,[n(c)==="light"?(o(),i("svg",{key:0,onClick:p,xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#FDE047","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-moon-star-icon cursor-pointer"},t[6]||(t[6]=[e("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9"},null,-1),e("path",{d:"M20 3v4"},null,-1),e("path",{d:"M22 5h-4"},null,-1)]))):(o(),i("svg",{key:1,onClick:p,xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#FDE047","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-sun-icon cursor-pointer"},t[7]||(t[7]=[e("circle",{cx:"12",cy:"12",r:"4"},null,-1),e("path",{d:"M12 2v2"},null,-1),e("path",{d:"M12 20v2"},null,-1),e("path",{d:"m4.93 4.93 1.41 1.41"},null,-1),e("path",{d:"m17.66 17.66 1.41 1.41"},null,-1),e("path",{d:"M2 12h2"},null,-1),e("path",{d:"M20 12h2"},null,-1),e("path",{d:"m6.34 17.66-1.41 1.41"},null,-1),e("path",{d:"m19.07 4.93-1.41 1.41"},null,-1)]))),e("span",{onClick:p},F(n(c)==="light"?"暗色":"亮色"),1)]),n(s).userinfo.token?(o(),i("div",{key:0,onClick:t[1]||(t[1]=a=>g("/user/calendar")),title:"日历检索",class:"flex flex-col items-center"},[l(r,{name:"i-jam-search-folder",class:"text-[#9fc84a] w-6 h-6 cursor-pointer"}),t[8]||(t[8]=e("span",null,"检索",-1))])):u("",!0),n(s).userinfo.id===1?(o(),i("div",{key:1,onClick:t[2]||(t[2]=a=>g("/sys/settings")),title:"系统设置",class:"flex flex-col items-center"},[l(r,{name:"i-carbon-settings",class:"text-[#9fc84a] w-6 h-6 cursor-pointer"}),t[9]||(t[9]=e("span",null,"系统",-1))])):u("",!0),n(s).userinfo.token?(o(),i("div",{key:2,onClick:t[3]||(t[3]=a=>g("/user/settings")),title:"用户中心",class:"flex flex-col items-center"},[l(r,{name:"i-carbon-user-avatar",class:"text-[#9fc84a] w-6 h-6 cursor-pointer"}),t[10]||(t[10]=e("span",null,"用户",-1))])):u("",!0)])]),_:1},8,["modelValue"])}}}),J={class:"w-full md:w-[567px] mx-auto h-full shadow-2xl"},Q={key:0,title:"到顶部",class:"hidden sm:block bottom-[20%] sm:right-[20%] md:right-[10%] lg:right-[15%] xl:right-[20%] 2xl:right-[28%] fixed flex items-center justify-center"},X={class:"sm:hidden relative"},Y={key:0,class:"right-0 bottom-10 fixed flex items-center justify-end"},Z={class:"flex flex-col items-center gap-2"},ee={key:1,class:"right-0 bottom-10 fixed flex items-center justify-end"},te={class:"flex flex-col items-center gap-2"},ue=_({__name:"default",async setup(b){let s,c;const d=V(),p=x("sidebarOpen",()=>!1),g=x("userinfo"),v=x("sysConfig"),t=([s,c]=$(()=>M("/user/profile")),s=await s,c(),s),r=([s,c]=$(()=>M("/sysConfig/get")),s=await s,c(),s);t&&(g.value=t,v.value=r);const{y:m}=R();return j({title:r.title,link:[{rel:"shortcut icon",type:"image/png",href:r.favicon||"/favicon.png"},{rel:"apple-touch-icon-precomposed",href:r.favicon||"/favicon.png"}],style:[{innerHTML:r.css||""}],script:[{type:"text/javascript",innerHTML:r.js||""}]}),r.enableGoogleRecaptcha&&j({script:[{type:"text/javascript",src:`https://recaptcha.net/recaptcha/api.js?render=${r.googleSiteKey}`}]}),(a,f)=>{const U=K,h=B,C=N,L=z;return o(),i(H,null,[e("div",J,[E(a.$slots,"default"),l(U)]),n(m)>200&&(a._.provides[w]||a.$route).path==="/"?(o(),i("div",Q,[l(h,{name:"i-carbon-up-to-top",class:"w-10 h-10 text-gray-500 cursor-pointer",onClick:f[0]||(f[0]=y=>m.value=0)})])):u("",!0),e("div",X,[n(d).userinfo.token?(o(),i("div",Y,[e("div",Z,[n(m)>300?(o(),i("div",{key:0,onClick:f[1]||(f[1]=y=>m.value=0),class:"dark:bg-gray-900/85 mr-4 rounded-full bg-slate-50 w-10 h-10 flex items-center justify-center shadow-xl"},[l(h,{name:"i-carbon-up-to-top",class:"w-6 h-6 text-[#9fc84a] cursor-pointer"})])):u("",!0),(a._.provides[w]||a.$route).path==="/"?(o(),S(C,{key:1,to:"/new",class:"dark:bg-gray-900/85 mr-4 rounded-full bg-slate-50 w-10 h-10 flex items-center justify-center shadow-xl"},{default:k(()=>[l(h,{name:"i-mage-edit",class:"w-6 h-6 text-[#9fc84a]"})]),_:1})):u("",!0),e("div",{class:"dark:bg-gray-900/85 mr-4 rounded-full bg-slate-50 w-10 h-10 flex items-center justify-center shadow-xl",onClick:f[2]||(f[2]=y=>p.value=!0)},[l(h,{name:"i-icon-park-solid-more-four",class:"w-6 h-6 text-[#9fc84a] cursor-pointer"})])])])):u("",!0),!n(d).userinfo.token&&(a._.provides[w]||a.$route).path==="/"?(o(),i("div",ee,[e("div",te,[n(m)>300?(o(),i("div",{key:0,onClick:f[3]||(f[3]=y=>m.value=0),class:"dark:bg-gray-900/85 mr-4 rounded-full bg-slate-50 w-10 h-10 flex items-center justify-center shadow-xl"},[l(h,{name:"i-carbon-up-to-top",class:"w-6 h-6 text-[#9fc84a] cursor-pointer"})])):u("",!0),l(C,{to:"/user/login",class:"dark:bg-gray-900/85 mr-4 rounded-full bg-slate-50 w-10 h-10 flex items-center justify-center shadow-xl"},{default:k(()=>[l(h,{name:"i-carbon-login",class:"w-6 h-6 text-[#9fc84a]"})]),_:1})])])):u("",!0),l(L,{open:n(p)},null,8,["open"])])],64)}}});export{ue as default};
