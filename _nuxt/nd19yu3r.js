import{_ as v,b as B,a as F}from"./cdhi6rl9.js";import{_ as N}from"./g5p2226n.js";import{_ as G}from"./m7278axk.js";import{_ as z,a as K}from"./ndlieawj.js";import{e as S,f as c,l as $,r as j,c as E,h as o,i as f,j as x,a as g,b as t,w as s,F as H,o as u,_ as I,d as y,V as L}from"./gkw12r6h.js";import{i as M,a as R}from"./ga5t764d.js";import"./hbj4jthp.js";import"./ou69qqfo.js";import"./bb05g4e2.js";import"./c79akiu6.js";const T={class:"pb-20"},h=S({__name:"login",setup(q){const V=c("sysConfig"),m=c("userinfo"),b=M(),a=$({username:"",password:""}),n=j(!1),_=async()=>{n.value=!0;let r=!1;try{b.value.userinfo=await R("/user/login",a),L.success("登录成功,跳转到首页..."),r=!0}finally{n.value=!1}r&&(location.href="/")};return(r,e)=>{const w=v,p=B,i=N,d=F,U=G,C=K,k=z;return u(),E(H,null,[o(m)?(u(),f(w,{key:0,user:o(m)},null,8,["user"])):x("",!0),g("div",T,[t(k,{ui:{base:"w-4/5 mx-auto mt-20"}},{default:s(()=>[e[4]||(e[4]=g("p",{class:"text-center text-2xl font-sans"}," 登录",-1)),t(C,{class:"space-y-4",size:"sm",state:o(a),onKeyup:I(_,["enter"])},{default:s(()=>[t(i,{label:"用户名",name:"email"},{default:s(()=>[t(p,{modelValue:o(a).username,"onUpdate:modelValue":e[0]||(e[0]=l=>o(a).username=l)},null,8,["modelValue"])]),_:1}),t(i,{label:"密码",name:"password"},{default:s(()=>[t(p,{type:"password",modelValue:o(a).password,"onUpdate:modelValue":e[1]||(e[1]=l=>o(a).password=l)},null,8,["modelValue"])]),_:1}),t(U,{size:"sm"},{default:s(()=>[t(d,{onClick:_,disabled:o(n),loading:o(n)},{default:s(()=>e[2]||(e[2]=[y("登录")])),_:1},8,["disabled","loading"]),o(V).enableRegister?(u(),f(d,{key:0,color:"gray",variant:"solid",to:"/user/reg"},{default:s(()=>e[3]||(e[3]=[y("去注册")])),_:1})):x("",!0)]),_:1})]),_:1},8,["state"])]),_:1})])],64)}}});export{h as default};
